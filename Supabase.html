</html>

<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <title>Supabase Edge Debug</title>
</head>

<body>

    <h1>Edge Function Debug</h1>

    <button id="send">Envoyer</button>

    <pre id="result">En attente‚Ä¶</pre>

    <script>
        const result = document.getElementById("result");

        console.log("üü¢ Page loaded");

        document.getElementById("send").addEventListener("click", async () => {
            console.log("üü° Button clicked");

            try {
                const response = await fetch(
                    "https://cpktnkjahurhvhabwnsf.supabase.co/functions/v1/hello-world",
                    {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            message: "Hello ?"
                        })
                    }
                );

                console.log("üü¢ HTTP status:", response.status);

                const text = await response.text();
                console.log("üì• Response text:", text);

                result.textContent = text;
            } catch (err) {
                console.error("‚ùå Fetch error:", err);
                result.textContent = err.message;
            }
        });
    </script>

</body>

</html>